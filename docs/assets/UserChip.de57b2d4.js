import{_,u as F,R as v}from"./index.ed6144ff.js";import{h as d,o as l,j as i,m as M,n as u,p as P,q as N,v as w,k as $,x as j,y as z,r as p,z as k,l as m,A as W,f as H,w as f,B as S,F as G,C as J,u as K,i as Q,s as X,t as b}from"./vendor.37d275cf.js";const Y=d({props:{radius:{type:Number,default:6},size:{default:"medium",type:String,validator:e=>["large","medium","small"].includes(e)},telegramBotName:{type:String,required:!0}},emits:["auth"],setup(e,{emit:t}){return{onTelegramAuth:({id:r,first_name:n,last_name:c,photo_url:o,auth_date:a,username:g,hash:h})=>{t("auth",{id:r,firstName:n,lastName:c,photo:o,username:g,authDate:a,hash:h})}}},mounted(){const e=document.createElement("script");e.async=!0,e.src="https://telegram.org/js/telegram-widget.js?15",e.setAttribute("data-size",this.size),e.setAttribute("data-userpic","true"),e.setAttribute("data-request-access","read"),e.setAttribute("data-telegram-login",this.telegramBotName),e.setAttribute("data-radius",this.radius.toString()),e.setAttribute("data-onauth","window.onTelegramAuth(user)"),window.onTelegramAuth=this.onTelegramAuth,this.$el.appendChild(e)}});function Z(e,t,s,r,n,c){return l(),i("div")}var Qe=_(Y,[["render",Z]]);const x="_root_1v4wn_1";var ee={root:x};const C=d({props:{url:{type:String,required:!0},size:{type:Number,default:36}}}),E=()=>{M(e=>({"2b04dd2c":e.size+"px"}))},L=C.setup;C.setup=L?(e,t)=>(E(),L(e,t)):E;const te=C,se=["src"];function oe(e,t,s,r,n,c){return l(),i("img",{class:u(e.$style.root),src:e.url,alt:"User avatar"},null,10,se)}const T={};T.$style=ee;var ne=_(te,[["render",oe],["__cssModules",T]]);const re="_wrapper_1t47o_1",ae="_block_1t47o_29";var ce={wrapper:re,block:ae};d({props:{to:{type:Object,default:void 0},block:Boolean},computed:{wrapperClasses(){return{[this.$style.wrapper]:!0,[this.$style.block]:this.block}}}});const ue={};ue.$style=ce;function le(e,t,s,r={}){if(!e)return()=>{};let n=()=>{};const c=P(()=>w(e),a=>{n(),!!a&&(a.addEventListener(t,s,r),n=()=>{a.removeEventListener(t,s,r),n=()=>{}})},{immediate:!0}),o=()=>{c(),n()};return N(o),o}const ie=["mouseup","touchend"];function de(e){var t,s;return(s=(t=w(e))==null?void 0:t.$el)!=null?s:w(e)}function _e(){function e(t,s){const r=o=>{const a=de(t);!a||a===o.target||o.composedPath().includes(a)||s(o)};let n=ie.map(o=>le(window,o,r,{passive:!0}));const c=()=>{n.forEach(o=>o()),n=[]};return N(c),c}return{onClickOutside:e}}const pe="_root_sokzc_1";var me={root:pe};const A=d({props:{color:{type:String,default:"#000"},name:{type:String,required:!0},prefix:{type:String,default:"icon"},size:{type:Number,default:14}},computed:{symbol(){return`#${this.prefix}-${this.name}`}}}),O=()=>{M(e=>({a7042a3c:e.size+"px"}))},B=A.setup;A.setup=B?(e,t)=>(O(),B(e,t)):O;const $e=A,fe=["href","fill"];function ge(e,t,s,r,n,c){return l(),i("svg",{class:u(e.$style.root),"aria-hidden":"true"},[$("use",{href:e.symbol,fill:e.color},null,8,fe)],2)}const V={};V.$style=me;var I=_($e,[["render",ge],["__cssModules",V]]);const he="_root_1mrhn_1",ye="_trigger_1mrhn_4",ve="_icon_1mrhn_10",we="_content_1mrhn_13";var ke={root:he,trigger:ye,icon:ve,content:we};const be=d({components:{Icon:I},setup(){const e=j(null),t=j(!1),{onClickOutside:s}=_e(),r=()=>{t.value=!1},n=()=>{t.value=!0};s(e,()=>{setTimeout(r)});const c=z(()=>t.value?r:n);return{trigger:e,isOpen:t,toggle:c}}});function Ce(e,t,s,r,n,c){const o=p("Icon");return l(),i("div",{class:u(e.$style.root)},[$("div",{ref:"trigger",class:u(e.$style.trigger),onClick:t[0]||(t[0]=(...a)=>e.toggle&&e.toggle(...a))},[k(e.$slots,"trigger"),m(o,{name:"angle",class:u(e.$style.icon),size:13},null,8,["class"])],2),e.isOpen?(l(),i("div",{key:0,class:u(e.$style.content)},[k(e.$slots,"default")],2)):W("",!0)],2)}const q={};q.$style=ke;var Ae=_(be,[["render",Ce],["__cssModules",q]]);const Ie="_root_9od4r_1",Me="_icon_9od4r_12";var Ne={root:Ie,icon:Me};const je=d({components:{Icon:I}}),ze=S(" Telegram Ads ");function Se(e,t,s,r,n,c){const o=p("Icon"),a=p("router-link");return l(),H(a,{class:u(e.$style.root),to:"/"},{default:f(()=>[m(o,{class:u(e.$style.icon),size:24,color:"#2a96ef",name:"logo"},null,8,["class"]),ze]),_:1},8,["class"])}const D={};D.$style=Ne;var Xe=_(je,[["render",Se],["__cssModules",D]]);const Ee="_root_xa89k_1",Le="_item_xa89k_6";var Te={root:Ee,item:Le};const Oe=d({props:{items:{type:Array,required:!0}}});function Be(e,t,s,r,n,c){return l(),i("ul",{class:u(e.$style.root)},[(l(!0),i(G,null,J(e.items,(o,a)=>(l(),i("li",{key:a,class:u(e.$style.item)},[k(e.$slots,"default",{item:o})],2))),128))],2)}const U={};U.$style=Te;var Ve=_(Oe,[["render",Be],["__cssModules",U]]);const qe="_root_j6t3d_1",De="_user_j6t3d_5",Ue="_icon_j6t3d_17",Re="_dropdown_j6t3d_20",Fe="_dropdownItem_j6t3d_23";var Pe={root:qe,user:De,icon:Ue,dropdown:Re,dropdownItem:Fe};const We=d({components:{Avatar:ne,Dropdown:Ae,Icon:I,Nav:Ve},setup(){const e=F(),t=K(),{t:s}=Q(),{user:r}=X(e);return{menuItems:z(()=>[{action:()=>t.push({name:v.PROFILE_EDIT}),icon:"pencil",name:s("user_chip.menu.profile_edit")},{action:()=>t.push({name:v.HELP}),icon:"help",name:s("user_chip.menu.help")},{action:()=>{e.logout(),t.push({name:v.WELCOME})},icon:"logout",name:s("user_chip.menu.logout")}]),user:r}}}),He=["onClick"];function Ge(e,t,s,r,n,c){const o=p("Icon"),a=p("Nav"),g=p("Dropdown"),h=p("Avatar");return l(),i("div",{class:u(e.$style.root)},[m(g,{class:u(e.$style.dropdown)},{trigger:f(()=>[$("div",{class:u(e.$style.user)},b(e.user.firstName)+" "+b(e.user.lastName),3)]),default:f(()=>[m(a,{items:e.menuItems},{default:f(({item:y})=>[$("span",{class:u(e.$style.dropdownItem),onClick:y.action},[m(o,{class:u(e.$style.icon),name:y.icon,size:24},null,8,["class","name"]),S(" "+b(y.name),1)],10,He)]),_:1},8,["items"])]),_:1},8,["class"]),m(h,{url:e.user.photo},null,8,["url"])],2)}const R={};R.$style=Pe;var Ye=_(We,[["render",Ge],["__cssModules",R]]);export{Qe as A,Xe as L,Ye as U};
